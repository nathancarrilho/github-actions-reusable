name: Reusable - Criar Issue no RepositÃ³rio ğŸš¨

on:
  workflow_call:
    inputs:
      issue_title:
        description: 'TÃ­tulo completo do Issue a ser criado.'
        required: true
        type: string
      issue_body:
        description: 'Corpo (descriÃ§Ã£o detalhada) do Issue a ser criado.'
        required: true
        type: string
    outputs:
      issue_number:
        description: "O nÃºmero do Issue criado."
        value: ${{ jobs.create_github_issue.outputs.issue_number }}

jobs:
  create_github_issue:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: ğŸ“ Criar GitHub Issue
        id: created_issue
        uses: peter-evans/create-issue-from-file@v5 
        with:
          title: ${{ inputs.issue_title }}
          content: ${{ inputs.issue_body }}
          token: ${{ github.token }}
    outputs:
      issue_number: ${{ steps.created_issue.outputs.issue-number }}